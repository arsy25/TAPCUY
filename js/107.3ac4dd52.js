"use strict";(globalThis["webpackChunkdo_it"]=globalThis["webpackChunkdo_it"]||[]).push([[107],{3107:(e,a,t)=>{t.r(a),t.d(a,{default:()=>Z});var l=t(1758),o=t(8790);const i={key:0},s={class:"q-gutter-md"},r={class:"q-mt-md text-white text"},d={key:1},n={class:"q-gutter-md"},u={class:"q-mb-none text-center text-weight-bold"},c={class:"text-center"},b={class:"text-center"},m={class:"q-mt-md text-white"};function p(e,a,t,p,g,k){const f=(0,l.g2)("q-space"),F=(0,l.g2)("q-btn"),h=(0,l.g2)("q-badge"),v=(0,l.g2)("q-toolbar"),w=(0,l.g2)("q-icon"),_=(0,l.g2)("q-item-section"),x=(0,l.g2)("q-item"),q=(0,l.g2)("q-expansion-item"),y=(0,l.g2)("q-list"),A=(0,l.g2)("q-scroll-area"),L=(0,l.g2)("q-img"),V=(0,l.g2)("q-drawer"),D=(0,l.g2)("q-header"),Q=(0,l.g2)("q-card-section"),S=(0,l.g2)("q-card-actions"),W=(0,l.g2)("q-card"),C=(0,l.g2)("q-dialog"),P=(0,l.g2)("router-view"),I=(0,l.g2)("q-page-container"),U=(0,l.g2)("q-layout"),O=(0,l.g2)("q-avatar"),X=(0,l.g2)("q-tab"),N=(0,l.g2)("q-tabs"),T=(0,l.g2)("q-separator"),$=(0,l.g2)("q-tab-panel"),M=(0,l.g2)("q-input"),j=(0,l.g2)("q-tab-panels"),E=(0,l.gN)("ripple"),J=(0,l.gN)("close-popup");return(0,l.uX)(),(0,l.CE)(l.FK,null,[a[41]||(a[41]=(0,l.Lk)("link",{href:"https://fonts.googleapis.com/css?family=Poppins",rel:"stylesheet"},null,-1)),e.$q.platform.is.desktop?((0,l.uX)(),(0,l.CE)("div",i,[(0,l.bF)(U,{view:"lHh Lpr lFf"},{default:(0,l.k6)((()=>[(0,l.bF)(D,null,{default:(0,l.k6)((()=>[(0,l.bF)(v,{class:"bg-white q-pa-md"},{default:(0,l.k6)((()=>[(0,l.bF)(f),(0,l.Lk)("div",s,[(0,l.bF)(F,{round:"",flat:"",dense:"",icon:"mail",color:"white","text-color":"primary"}),(0,l.bF)(F,{round:"",flat:"",dense:"",icon:"notifications",color:"white","text-color":"primary"},{default:(0,l.k6)((()=>[(0,l.bF)(h,{color:"red",floating:""},{default:(0,l.k6)((()=>a[18]||(a[18]=[(0,l.eW)("4")]))),_:1})])),_:1}),(0,l.bF)(F,{flat:"",onClick:a[0]||(a[0]=e=>p.drawer=!p.drawer),round:"",dense:"",icon:"menu",color:"primary"})])])),_:1}),(0,l.bF)(V,{modelValue:p.drawer,"onUpdate:modelValue":a[2]||(a[2]=e=>p.drawer=e),"show-if-above":"",width:250,breakpoint:400,class:"bg-primary"},{default:(0,l.k6)((()=>[(0,l.bF)(A,{style:{height:"calc(100% - 150px)","margin-top":"110px"}},{default:(0,l.k6)((()=>[(0,l.bF)(y,{padding:"",class:"q-pa-sm q-gutter-sm text-white text"},{default:(0,l.k6)((()=>[a[27]||(a[27]=(0,l.Lk)("div",{class:"text-uppercase text-caption text-grey-5 q-pl-md q-ma-none"}," Main menu ",-1)),(0,l.bo)(((0,l.uX)(),(0,l.Wv)(x,{to:"/dashboard",exact:"","active-class":" text-white bg-blue"},{default:(0,l.k6)((()=>[(0,l.bF)(_,{avatar:""},{default:(0,l.k6)((()=>[(0,l.bF)(w,{name:"inbox"})])),_:1}),(0,l.bF)(_,null,{default:(0,l.k6)((()=>a[19]||(a[19]=[(0,l.eW)(" Dashboard ")]))),_:1})])),_:1})),[[E]]),a[28]||(a[28]=(0,l.Lk)("div",{class:"text-caption text-uppercase text-grey-5 q-pl-md q-pt-md q-ma-none"}," Master data ",-1)),(0,l.bF)(q,{icon:"people",label:"Pengguna","active-class":" text-white bg-blue"},{default:(0,l.k6)((()=>[(0,l.bo)(((0,l.uX)(),(0,l.Wv)(x,{to:"/AddUser",exact:"","active-class":" text-white bg-blue"},{default:(0,l.k6)((()=>[(0,l.bF)(_,{avatar:""},{default:(0,l.k6)((()=>[(0,l.bF)(w,{name:"add"})])),_:1}),(0,l.bF)(_,null,{default:(0,l.k6)((()=>a[20]||(a[20]=[(0,l.eW)(" Tambah user ")]))),_:1})])),_:1})),[[E]]),(0,l.bo)(((0,l.uX)(),(0,l.Wv)(x,{to:"/allUsers",exact:"","active-class":" text-white bg-blue"},{default:(0,l.k6)((()=>[(0,l.bF)(_,{avatar:""},{default:(0,l.k6)((()=>[(0,l.bF)(w,{name:"task"})])),_:1}),(0,l.bF)(_,null,{default:(0,l.k6)((()=>a[21]||(a[21]=[(0,l.eW)(" Lihat user ")]))),_:1})])),_:1})),[[E]])])),_:1}),(0,l.bF)(q,{icon:"devices",label:"Perangkat","active-class":" text-white bg-blue"},{default:(0,l.k6)((()=>[(0,l.bo)(((0,l.uX)(),(0,l.Wv)(x,{to:"/Add_Device",exact:"","active-class":" text-white bg-blue"},{default:(0,l.k6)((()=>[(0,l.bF)(_,{avatar:""},{default:(0,l.k6)((()=>[(0,l.bF)(w,{name:"add"})])),_:1}),(0,l.bF)(_,null,{default:(0,l.k6)((()=>a[22]||(a[22]=[(0,l.eW)(" Tambah perangkat ")]))),_:1})])),_:1})),[[E]]),(0,l.bo)(((0,l.uX)(),(0,l.Wv)(x,{to:"/All_device",exact:"","active-class":" text-white bg-blue"},{default:(0,l.k6)((()=>[(0,l.bF)(_,{avatar:""},{default:(0,l.k6)((()=>[(0,l.bF)(w,{name:"task"})])),_:1}),(0,l.bF)(_,null,{default:(0,l.k6)((()=>a[23]||(a[23]=[(0,l.eW)(" Data perangkat ")]))),_:1})])),_:1})),[[E]])])),_:1}),(0,l.bF)(q,{icon:"fingerprint",label:"Absensi","active-class":" text-white bg-blue"},{default:(0,l.k6)((()=>[(0,l.bo)(((0,l.uX)(),(0,l.Wv)(x,{to:"/Allattendance",exact:"","active-class":" text-white bg-blue"},{default:(0,l.k6)((()=>[(0,l.bF)(_,{avatar:""},{default:(0,l.k6)((()=>[(0,l.bF)(w,{name:"task"})])),_:1}),(0,l.bF)(_,null,{default:(0,l.k6)((()=>a[24]||(a[24]=[(0,l.eW)(" Data absensi ")]))),_:1})])),_:1})),[[E]]),(0,l.bo)(((0,l.uX)(),(0,l.Wv)(x,{to:"/Allactivities",exact:"","active-class":" text-white bg-blue"},{default:(0,l.k6)((()=>[(0,l.bF)(_,{avatar:""},{default:(0,l.k6)((()=>[(0,l.bF)(w,{name:"task"})])),_:1}),(0,l.bF)(_,null,{default:(0,l.k6)((()=>a[25]||(a[25]=[(0,l.eW)(" Data kegiatan ")]))),_:1})])),_:1})),[[E]])])),_:1}),a[29]||(a[29]=(0,l.Lk)("div",{class:"text-caption text-uppercase text-grey-5 q-pl-md q-pt-md q-ma-none"}," Devices information ",-1)),(0,l.bo)(((0,l.uX)(),(0,l.Wv)(x,{to:"/AllUser",exact:"","active-class":" text-white bg-green-8"},{default:(0,l.k6)((()=>[(0,l.bF)(_,{avatar:""},{default:(0,l.k6)((()=>[(0,l.bF)(w,{name:"task"})])),_:1}),(0,l.bF)(_,null,{default:(0,l.k6)((()=>a[26]||(a[26]=[(0,l.eW)(" Devices Log ")]))),_:1})])),_:1})),[[E]])])),_:1})])),_:1}),(0,l.bF)(L,{clickable:"",onClick:a[1]||(a[1]=e=>g.isDialogOpen=!0),class:"absolute-top cursor-pointer",src:"tapcuy2.png",style:{height:"150px"}})])),_:1},8,["modelValue"])])),_:1}),(0,l.bF)(C,{modelValue:g.isDialogOpen,"onUpdate:modelValue":a[3]||(a[3]=e=>g.isDialogOpen=e),persistent:""},{default:(0,l.k6)((()=>[(0,l.bF)(W,{class:"bg-primary full-width"},{default:(0,l.k6)((()=>[(0,l.bF)(Q,{class:"row items-center q-pb-none"},{default:(0,l.k6)((()=>[(0,l.bF)(f),(0,l.bo)((0,l.bF)(F,{icon:"close",color:"white",flat:"",round:"",dense:""},null,512),[[J]])])),_:1}),(0,l.bF)(Q,{class:"text-center"},{default:(0,l.k6)((()=>[a[30]||(a[30]=(0,l.Lk)("img",{src:"logo.png",alt:"Avatar",style:{width:"80px",height:"80px","border-radius":"50%"}},null,-1)),(0,l.Lk)("div",r,[(0,l.Lk)("p",null,"Hai, "+(0,o.v_)(k.user.username),1)])])),_:1}),(0,l.bF)(S,{align:"center"},{default:(0,l.k6)((()=>[(0,l.bF)(F,{icon:"power_settings_new",label:"logout",flat:"",class:"text-capitalize",color:"red",onClick:k.logout},null,8,["onClick"])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,l.bF)(I,null,{default:(0,l.k6)((()=>[(0,l.bF)(P)])),_:1})])),_:1})])):((0,l.uX)(),(0,l.CE)("div",d,[(0,l.bF)(U,{view:"lHh Lpr lFf"},{default:(0,l.k6)((()=>[(0,l.bF)(D,null,{default:(0,l.k6)((()=>[(0,l.bF)(v,{class:"bg-white q-pa-md"},{default:(0,l.k6)((()=>[(0,l.bF)(f),(0,l.Lk)("div",n,[(0,l.bF)(F,{round:"",flat:"",dense:"",icon:"mail",color:"white","text-color":"primary"}),(0,l.bF)(F,{round:"",flat:"",dense:"",icon:"notifications",color:"white","text-color":"primary"},{default:(0,l.k6)((()=>[(0,l.bF)(h,{color:"red",floating:""},{default:(0,l.k6)((()=>a[31]||(a[31]=[(0,l.eW)("4")]))),_:1})])),_:1}),(0,l.bF)(F,{flat:"",onClick:a[4]||(a[4]=e=>p.drawer=!p.drawer),round:"",dense:"",icon:"menu",color:"primary"})])])),_:1}),(0,l.bF)(V,{modelValue:p.drawer,"onUpdate:modelValue":a[8]||(a[8]=e=>p.drawer=e),"show-if-above":"",width:250,breakpoint:400,class:"bg-primary"},{default:(0,l.k6)((()=>[(0,l.bF)(A,{style:{height:"calc(100% - 150px)","margin-top":"120px"}},{default:(0,l.k6)((()=>[(0,l.bF)(y,{padding:"",class:"q-pa-sm q-gutter-sm text-white text"},{default:(0,l.k6)((()=>[(0,l.Lk)("div",{class:"",clickable:"",onClick:a[5]||(a[5]=e=>g.isDialogOpen=!0)},[(0,l.Lk)("p",u,(0,o.v_)(k.user.nama),1),(0,l.Lk)("p",c,(0,o.v_)(k.user.npm),1)]),a[33]||(a[33]=(0,l.Lk)("div",{class:"text-uppercase text-caption text-grey-5 q-pl-md q-pt-md q-ma-none"}," Main menu ",-1)),(0,l.bo)(((0,l.uX)(),(0,l.Wv)(x,{to:"/dashboard_user",exact:"","active-class":" text-white bg-blue"},{default:(0,l.k6)((()=>[(0,l.bF)(_,{avatar:""},{default:(0,l.k6)((()=>[(0,l.bF)(w,{name:"inbox"})])),_:1}),(0,l.bF)(_,null,{default:(0,l.k6)((()=>a[32]||(a[32]=[(0,l.eW)(" Dashboard ")]))),_:1})])),_:1})),[[E]])])),_:1})])),_:1}),(0,l.Lk)("div",{class:"absolute-top q-pb-none text-center q-mt-xl",clickable:"",onClick:a[7]||(a[7]=e=>g.isDialogOpen=!0)},[(0,l.bF)(O,{size:"60px",class:"",clickable:"",onClick:a[6]||(a[6]=e=>g.isDialogOpen=!0)},{default:(0,l.k6)((()=>[a[34]||(a[34]=(0,l.Lk)("img",{src:"logo.png",alt:"Avatar",class:"full-image"},null,-1)),(0,l.bF)(h,{floating:"",class:"bg-white",rounded:"",style:{top:"0.5px",right:"0.5px"}},{default:(0,l.k6)((()=>[(0,l.bF)(w,{name:"edit",size:"18px",color:"primary"})])),_:1})])),_:1})])])),_:1},8,["modelValue"])])),_:1}),(0,l.bF)(C,{modelValue:g.isDialogOpen,"onUpdate:modelValue":a[17]||(a[17]=e=>g.isDialogOpen=e),persistent:""},{default:(0,l.k6)((()=>[(0,l.bF)(W,{class:"bg-primary full-width",style:{"max-width":"400px"}},{default:(0,l.k6)((()=>[(0,l.bF)(Q,{class:"row items-center q-pb-none"},{default:(0,l.k6)((()=>[(0,l.bF)(f),(0,l.bo)((0,l.bF)(F,{icon:"close",color:"white",flat:"",round:"",dense:""},null,512),[[J]])])),_:1}),(0,l.bF)(Q,null,{default:(0,l.k6)((()=>[(0,l.bF)(N,{modelValue:g.tab,"onUpdate:modelValue":a[9]||(a[9]=e=>g.tab=e),class:"text-white","active-color":"blue","indicator-color":"white",align:"center","narrow-indicator":""},{default:(0,l.k6)((()=>[(0,l.bF)(X,{name:"profile",label:"Profil"}),(0,l.bF)(X,{name:"edit",label:"Edit Profil"})])),_:1},8,["modelValue"]),(0,l.bF)(T,{color:"white"}),(0,l.bF)(j,{modelValue:g.tab,"onUpdate:modelValue":a[16]||(a[16]=e=>g.tab=e),animated:""},{default:(0,l.k6)((()=>[(0,l.bF)($,{name:"profile",class:"bg-primary"},{default:(0,l.k6)((()=>[(0,l.Lk)("div",b,[a[40]||(a[40]=(0,l.Lk)("img",{src:"logo.png",alt:"Avatar",style:{width:"80px",height:"80px","border-radius":"50%"}},null,-1)),(0,l.Lk)("div",m,[(0,l.Lk)("div",null,[a[35]||(a[35]=(0,l.Lk)("strong",null,"UID RFID:",-1)),(0,l.eW)(" "+(0,o.v_)(k.user.uid_rfid),1)]),(0,l.Lk)("div",null,[a[36]||(a[36]=(0,l.Lk)("strong",null,"Nama:",-1)),(0,l.eW)(" "+(0,o.v_)(k.user.nama),1)]),(0,l.Lk)("div",null,[a[37]||(a[37]=(0,l.Lk)("strong",null,"NPM:",-1)),(0,l.eW)(" "+(0,o.v_)(k.user.npm),1)]),(0,l.Lk)("div",null,[a[38]||(a[38]=(0,l.Lk)("strong",null,"Jabatan:",-1)),(0,l.eW)(" "+(0,o.v_)(k.user.jabatan),1)]),(0,l.Lk)("div",null,[a[39]||(a[39]=(0,l.Lk)("strong",null,"Username:",-1)),(0,l.eW)(" "+(0,o.v_)(k.user.username),1)])])])])),_:1}),(0,l.bF)($,{name:"edit",class:"bg-primary"},{default:(0,l.k6)((()=>[(0,l.Lk)("div",null,[(0,l.bF)(M,{modelValue:g.editForm.uid_rfid,"onUpdate:modelValue":a[10]||(a[10]=e=>g.editForm.uid_rfid=e),label:"UID RFID",dense:"",filled:"",class:"text-white bg-white q-mb-md"},null,8,["modelValue"]),(0,l.bF)(M,{modelValue:g.editForm.nama,"onUpdate:modelValue":a[11]||(a[11]=e=>g.editForm.nama=e),label:"Nama",dense:"",filled:"",class:"text-white bg-white q-mb-md"},null,8,["modelValue"]),(0,l.bF)(M,{modelValue:g.editForm.npm,"onUpdate:modelValue":a[12]||(a[12]=e=>g.editForm.npm=e),label:"NPM",dense:"",filled:"",class:"text-white bg-white q-mb-md"},null,8,["modelValue"]),(0,l.bF)(M,{modelValue:g.editForm.jabatan,"onUpdate:modelValue":a[13]||(a[13]=e=>g.editForm.jabatan=e),label:"Jabatan",dense:"",filled:"",class:"text-white bg-white q-mb-md"},null,8,["modelValue"]),(0,l.bF)(M,{modelValue:g.editForm.username,"onUpdate:modelValue":a[14]||(a[14]=e=>g.editForm.username=e),label:"Username",dense:"",filled:"",class:"text-white bg-white q-mb-md"},null,8,["modelValue"]),(0,l.bF)(M,{modelValue:g.editForm.password,"onUpdate:modelValue":a[15]||(a[15]=e=>g.editForm.password=e),type:g.showPassword?"text":"password",label:"Password",dense:"",filled:"",class:"text-white bg-white q-mb-md",autocomplete:"new-password",hint:"Kosongkan jika tidak diubah"},{append:(0,l.k6)((()=>[(0,l.bF)(w,{name:g.showPassword?"visibility_off":"visibility",class:"cursor-pointer",onClick:k.togglePassword},null,8,["name","onClick"])])),_:1},8,["modelValue","type"]),(0,l.bF)(F,{label:"Simpan Perubahan",color:"black","text-color":"white",class:"full-width",onClick:k.submitEditProfile},null,8,["onClick"])])])),_:1})])),_:1},8,["modelValue"])])),_:1}),(0,l.bF)(S,{align:"center"},{default:(0,l.k6)((()=>[(0,l.bF)(F,{icon:"power_settings_new",label:"Logout",flat:"",class:"text-capitalize",color:"red",onClick:k.logout},null,8,["onClick"])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,l.bF)(I,null,{default:(0,l.k6)((()=>[(0,l.bF)(P)])),_:1})])),_:1})]))],64)}var g=t(8734),k=t(411);const f={setup(){const e=(0,g.KR)(k.A.isActive),a=()=>{e.value=!e.value,k.A.set(e.value),localStorage.setItem("darkMode",e.value),e.value?document.body.classList.add("dark-mode"):document.body.classList.remove("dark-mode")};return(0,l.sV)((()=>{const a=localStorage.getItem("darkMode");null!==a&&(e.value="true"===a,k.A.set(e.value),e.value?document.body.classList.add("dark-mode"):document.body.classList.remove("dark-mode"))})),{drawer:(0,g.KR)(!1),miniState:(0,g.KR)(!0),isDark:e,toggleDarkMode:a}},data(){return{isDialogOpen:!1,showPassword:!1,tab:"profile",editForm:{id:null,uid_rfid:"",nama:"",npm:"",jabatan:"",username:"",password:""}}},methods:{togglePassword(){this.showPassword=!this.showPassword},async submitEditProfile(){try{const e=localStorage.getItem("user");if(!e)return void this.$q.notify({type:"negative",message:"Data user tidak ditemukan!"});const a=JSON.parse(e),t=a.id;if(!t)return void this.$q.notify({type:"negative",message:"ID user tidak ditemukan!"});const l=localStorage.getItem("token");await this.$api.put(`/pengguna/${t}`,this.editForm,{headers:{Authorization:`Bearer ${l}`}}),this.$q.notify({type:"positive",message:"Profil berhasil diupdate!"});const o={...a,...this.editForm};localStorage.setItem("user",JSON.stringify(o))}catch(e){console.error("Gagal update profil:",e),this.$q.notify({type:"negative",message:"Gagal update profil!"})}},loadUserDataFromLocalStorage(){try{const e=localStorage.getItem("user");if(e){const a=JSON.parse(e);this.editForm.uid_rfid=a.uid_rfid||"",this.editForm.nama=a.nama||"",this.editForm.npm=a.npm||"",this.editForm.jabatan=a.jabatan||"",this.editForm.username=a.username||"",this.editForm.password=""}}catch(e){console.error("Gagal memuat data user dari localStorage",e)}},logout(){localStorage.removeItem("token"),localStorage.removeItem("isLoggedIn"),localStorage.removeItem("user"),this.$router.push("/"),window.location.reload()}},computed:{user(){return JSON.parse(localStorage.getItem("user"))||{}}},mounted(){JSON.parse(localStorage.getItem("user"));this.loadUserDataFromLocalStorage()}};var F=t(2807),h=t(2008),v=t(8416),w=t(6914),_=t(3676),x=t(1693),q=t(492),y=t(3954),A=t(6056),L=t(8958),V=t(3999),D=t(124),Q=t(5173),S=t(9459),W=t(2665),C=t(2156),P=t(3316),I=t(4189),U=t(2669),O=t(5205),X=t(3952),N=t(2980),T=t(327),$=t(386),M=t(9041),j=t(1746),E=t(9270),J=t(7716),R=t(7092),z=t(9200),K=t(9626),H=t(8672),B=t(8582),G=t.n(B);const Y=(0,F.A)(f,[["render",p]]),Z=Y;G()(f,"components",{QLayout:h.A,QHeader:v.A,QToolbar:w.A,QSpace:_.A,QBtn:x.A,QIcon:q.A,QBadge:y.A,QDrawer:A.A,QScrollArea:L.A,QList:V.A,QItem:D.A,QItemSection:Q.A,QExpansionItem:S.A,QImg:W.A,QDialog:C.A,QCard:P.A,QCardSection:I.A,QCardActions:U.A,QPageContainer:O.A,QAvatar:X.A,QTabs:N.A,QTab:T.A,QSeparator:$.A,QTabPanels:M.A,QTabPanel:j.A,QInput:E.A,QPage:J.A,QFooter:R.A,QForm:z.A}),G()(f,"directives",{Ripple:K.A,ClosePopup:H.A})}}]);