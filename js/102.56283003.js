"use strict";(globalThis["webpackChunkdo_it"]=globalThis["webpackChunkdo_it"]||[]).push([[102],{4102:(e,a,t)=>{t.r(a),t.d(a,{default:()=>B});var l=t(1758),o=t(8790);const i={key:0},r={class:"q-mt-md text-white text"},s={key:1},d={class:"q-gutter-md"},n={class:"absolute-top text-center q-mt-xl"},u={class:"text-center"},m={class:"q-mt-md text-white"};function c(e,a,t,c,b,g){const p=(0,l.g2)("q-space"),k=(0,l.g2)("q-btn"),h=(0,l.g2)("q-card-section"),f=(0,l.g2)("q-card-actions"),F=(0,l.g2)("q-card"),w=(0,l.g2)("q-dialog"),v=(0,l.g2)("router-view"),_=(0,l.g2)("q-page-container"),q=(0,l.g2)("q-layout"),A=(0,l.g2)("q-badge"),x=(0,l.g2)("q-toolbar"),y=(0,l.g2)("q-icon"),L=(0,l.g2)("q-item-section"),V=(0,l.g2)("q-item"),Q=(0,l.g2)("q-list"),S=(0,l.g2)("q-scroll-area"),I=(0,l.g2)("q-avatar"),P=(0,l.g2)("q-drawer"),C=(0,l.g2)("q-header"),D=(0,l.g2)("q-tab"),U=(0,l.g2)("q-tabs"),N=(0,l.g2)("q-separator"),O=(0,l.g2)("q-tab-panel"),$=(0,l.g2)("q-input"),W=(0,l.g2)("q-tab-panels"),j=(0,l.gN)("close-popup"),J=(0,l.gN)("ripple");return(0,l.uX)(),(0,l.CE)(l.FK,null,[a[24]||(a[24]=(0,l.Lk)("link",{href:"https://fonts.googleapis.com/css?family=Poppins",rel:"stylesheet"},null,-1)),e.$q.platform.is.desktop?((0,l.uX)(),(0,l.CE)("div",i,[(0,l.bF)(q,{view:"lHh Lpr lFf"},{default:(0,l.k6)((()=>[(0,l.bF)(w,{modelValue:b.isDialogOpen,"onUpdate:modelValue":a[0]||(a[0]=e=>b.isDialogOpen=e),persistent:""},{default:(0,l.k6)((()=>[(0,l.bF)(F,{class:"bg-primary full-width"},{default:(0,l.k6)((()=>[(0,l.bF)(h,{class:"row items-center q-pb-none"},{default:(0,l.k6)((()=>[(0,l.bF)(p),(0,l.bo)((0,l.bF)(k,{icon:"close",color:"white",flat:"",round:"",dense:""},null,512),[[j]])])),_:1}),(0,l.bF)(h,{class:"text-center"},{default:(0,l.k6)((()=>[a[13]||(a[13]=(0,l.Lk)("img",{src:"logo.png",alt:"Avatar",style:{width:"80px",height:"80px","border-radius":"50%"}},null,-1)),(0,l.Lk)("div",r,[(0,l.Lk)("p",null,"Hai, "+(0,o.v_)(g.user.username),1)])])),_:1}),(0,l.bF)(f,{align:"center"},{default:(0,l.k6)((()=>[(0,l.bF)(k,{icon:"power_settings_new",label:"logout",flat:"",class:"text-capitalize",color:"red",onClick:g.logout},null,8,["onClick"])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,l.bF)(_,null,{default:(0,l.k6)((()=>[(0,l.bF)(v)])),_:1})])),_:1})])):((0,l.uX)(),(0,l.CE)("div",s,[(0,l.bF)(q,{view:"lHh Lpr lFf"},{default:(0,l.k6)((()=>[(0,l.bF)(C,null,{default:(0,l.k6)((()=>[(0,l.bF)(x,{class:"bg-white q-pa-md"},{default:(0,l.k6)((()=>[(0,l.bF)(p),(0,l.Lk)("div",d,[(0,l.bF)(k,{round:"",flat:"",dense:"",icon:"mail",color:"white","text-color":"primary"}),(0,l.bF)(k,{round:"",flat:"",dense:"",icon:"notifications",color:"white","text-color":"primary"},{default:(0,l.k6)((()=>[(0,l.bF)(A,{color:"red",floating:""},{default:(0,l.k6)((()=>a[14]||(a[14]=[(0,l.eW)("4")]))),_:1})])),_:1}),(0,l.bF)(k,{flat:"",onClick:a[1]||(a[1]=e=>c.drawer=!c.drawer),round:"",dense:"",icon:"menu",color:"primary"})])])),_:1}),(0,l.bF)(P,{modelValue:c.drawer,"onUpdate:modelValue":a[3]||(a[3]=e=>c.drawer=e),"show-if-above":"",width:250,breakpoint:400,class:"bg-primary"},{default:(0,l.k6)((()=>[(0,l.bF)(S,{style:{height:"calc(100% - 150px)","margin-top":"150px"}},{default:(0,l.k6)((()=>[(0,l.bF)(Q,{padding:"",class:"q-pa-sm q-gutter-sm text-white text"},{default:(0,l.k6)((()=>[a[16]||(a[16]=(0,l.Lk)("div",{class:"text-uppercase text-caption text-grey-5 q-pl-md q-pt-md q-ma-none"}," Main menu ",-1)),(0,l.bo)(((0,l.uX)(),(0,l.Wv)(V,{to:"/dashboard_user",exact:"","active-class":" text-white bg-blue"},{default:(0,l.k6)((()=>[(0,l.bF)(L,{avatar:""},{default:(0,l.k6)((()=>[(0,l.bF)(y,{name:"inbox"})])),_:1}),(0,l.bF)(L,null,{default:(0,l.k6)((()=>a[15]||(a[15]=[(0,l.eW)(" Dashboard ")]))),_:1})])),_:1})),[[J]])])),_:1})])),_:1}),(0,l.Lk)("div",n,[(0,l.bF)(I,{size:"60px",class:"q-mx-auto",clickable:"",onClick:a[2]||(a[2]=e=>b.isDialogOpen=!0)},{default:(0,l.k6)((()=>[a[17]||(a[17]=(0,l.Lk)("img",{src:"logo.png",alt:"Avatar",class:"full-image"},null,-1)),(0,l.bF)(A,{floating:"",class:"bg-white",rounded:"",style:{top:"0.5px",right:"0.5px"}},{default:(0,l.k6)((()=>[(0,l.bF)(y,{name:"edit",size:"18px",color:"primary"})])),_:1})])),_:1})])])),_:1},8,["modelValue"])])),_:1}),(0,l.bF)(w,{modelValue:b.isDialogOpen,"onUpdate:modelValue":a[12]||(a[12]=e=>b.isDialogOpen=e),persistent:""},{default:(0,l.k6)((()=>[(0,l.bF)(F,{class:"bg-primary full-width",style:{"max-width":"400px"}},{default:(0,l.k6)((()=>[(0,l.bF)(h,{class:"row items-center q-pb-none"},{default:(0,l.k6)((()=>[(0,l.bF)(p),(0,l.bo)((0,l.bF)(k,{icon:"close",color:"white",flat:"",round:"",dense:""},null,512),[[j]])])),_:1}),(0,l.bF)(h,null,{default:(0,l.k6)((()=>[(0,l.bF)(U,{modelValue:b.tab,"onUpdate:modelValue":a[4]||(a[4]=e=>b.tab=e),class:"text-white","active-color":"blue","indicator-color":"white",align:"center","narrow-indicator":""},{default:(0,l.k6)((()=>[(0,l.bF)(D,{name:"profile",label:"Profil"}),(0,l.bF)(D,{name:"edit",label:"Edit Profil"})])),_:1},8,["modelValue"]),(0,l.bF)(N,{color:"white"}),(0,l.bF)(W,{modelValue:b.tab,"onUpdate:modelValue":a[11]||(a[11]=e=>b.tab=e),animated:""},{default:(0,l.k6)((()=>[(0,l.bF)(O,{name:"profile",class:"bg-primary"},{default:(0,l.k6)((()=>[(0,l.Lk)("div",u,[a[23]||(a[23]=(0,l.Lk)("img",{src:"logo.png",alt:"Avatar",style:{width:"80px",height:"80px","border-radius":"50%"}},null,-1)),(0,l.Lk)("div",m,[(0,l.Lk)("div",null,[a[18]||(a[18]=(0,l.Lk)("strong",null,"UID RFID:",-1)),(0,l.eW)(" "+(0,o.v_)(g.user.uid_rfid),1)]),(0,l.Lk)("div",null,[a[19]||(a[19]=(0,l.Lk)("strong",null,"Nama:",-1)),(0,l.eW)(" "+(0,o.v_)(g.user.nama),1)]),(0,l.Lk)("div",null,[a[20]||(a[20]=(0,l.Lk)("strong",null,"NPM:",-1)),(0,l.eW)(" "+(0,o.v_)(g.user.npm),1)]),(0,l.Lk)("div",null,[a[21]||(a[21]=(0,l.Lk)("strong",null,"Jabatan:",-1)),(0,l.eW)(" "+(0,o.v_)(g.user.jabatan),1)]),(0,l.Lk)("div",null,[a[22]||(a[22]=(0,l.Lk)("strong",null,"Username:",-1)),(0,l.eW)(" "+(0,o.v_)(g.user.username),1)])])])])),_:1}),(0,l.bF)(O,{name:"edit",class:"bg-primary"},{default:(0,l.k6)((()=>[(0,l.Lk)("div",null,[(0,l.bF)($,{modelValue:b.editForm.uid_rfid,"onUpdate:modelValue":a[5]||(a[5]=e=>b.editForm.uid_rfid=e),label:"UID RFID",dense:"",filled:"",class:"text-white bg-white q-mb-md"},null,8,["modelValue"]),(0,l.bF)($,{modelValue:b.editForm.nama,"onUpdate:modelValue":a[6]||(a[6]=e=>b.editForm.nama=e),label:"Nama",dense:"",filled:"",class:"text-white bg-white q-mb-md"},null,8,["modelValue"]),(0,l.bF)($,{modelValue:b.editForm.npm,"onUpdate:modelValue":a[7]||(a[7]=e=>b.editForm.npm=e),label:"NPM",dense:"",filled:"",class:"text-white bg-white q-mb-md"},null,8,["modelValue"]),(0,l.bF)($,{modelValue:b.editForm.jabatan,"onUpdate:modelValue":a[8]||(a[8]=e=>b.editForm.jabatan=e),label:"Jabatan",dense:"",filled:"",class:"text-white bg-white q-mb-md"},null,8,["modelValue"]),(0,l.bF)($,{modelValue:b.editForm.username,"onUpdate:modelValue":a[9]||(a[9]=e=>b.editForm.username=e),label:"Username",dense:"",filled:"",class:"text-white bg-white q-mb-md"},null,8,["modelValue"]),(0,l.bF)($,{modelValue:b.editForm.password,"onUpdate:modelValue":a[10]||(a[10]=e=>b.editForm.password=e),type:b.showPassword?"text":"password",label:"Password",dense:"",filled:"",class:"text-white bg-white q-mb-md",autocomplete:"new-password",hint:"Kosongkan jika tidak diubah"},{append:(0,l.k6)((()=>[(0,l.bF)(y,{name:b.showPassword?"visibility_off":"visibility",class:"cursor-pointer",onClick:g.togglePassword},null,8,["name","onClick"])])),_:1},8,["modelValue","type"]),(0,l.bF)(k,{label:"Simpan Perubahan",color:"black","text-color":"white",class:"full-width",onClick:g.submitEditProfile},null,8,["onClick"])])])),_:1})])),_:1},8,["modelValue"])])),_:1}),(0,l.bF)(f,{align:"center"},{default:(0,l.k6)((()=>[(0,l.bF)(k,{icon:"power_settings_new",label:"Logout",flat:"",class:"text-capitalize",color:"red",onClick:g.logout},null,8,["onClick"])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,l.bF)(_,null,{default:(0,l.k6)((()=>[(0,l.bF)(v)])),_:1})])),_:1})]))],64)}var b=t(8734),g=t(411);const p={setup(){const e=(0,b.KR)(g.A.isActive),a=()=>{e.value=!e.value,g.A.set(e.value),localStorage.setItem("darkMode",e.value),e.value?document.body.classList.add("dark-mode"):document.body.classList.remove("dark-mode")};return(0,l.sV)((()=>{const a=localStorage.getItem("darkMode");null!==a&&(e.value="true"===a,g.A.set(e.value),e.value?document.body.classList.add("dark-mode"):document.body.classList.remove("dark-mode"))})),{drawer:(0,b.KR)(!1),miniState:(0,b.KR)(!0),isDark:e,toggleDarkMode:a}},data(){return{isDialogOpen:!1,showPassword:!1,tab:"profile",editForm:{id:null,uid_rfid:"",nama:"",npm:"",jabatan:"",username:"",password:""}}},methods:{togglePassword(){this.showPassword=!this.showPassword},async submitEditProfile(){try{const e=localStorage.getItem("user");if(!e)return void this.$q.notify({type:"negative",message:"Data user tidak ditemukan!"});const a=JSON.parse(e),t=a.id;if(!t)return void this.$q.notify({type:"negative",message:"ID user tidak ditemukan!"});const l=localStorage.getItem("token");await this.$api.put(`/pengguna/${t}`,this.editForm,{headers:{Authorization:`Bearer ${l}`}}),this.$q.notify({type:"positive",message:"Profil berhasil diupdate!"});const o={...a,...this.editForm};localStorage.setItem("user",JSON.stringify(o))}catch(e){console.error("Gagal update profil:",e),this.$q.notify({type:"negative",message:"Gagal update profil!"})}},loadUserDataFromLocalStorage(){try{const e=localStorage.getItem("user");if(e){const a=JSON.parse(e);this.editForm.uid_rfid=a.uid_rfid||"",this.editForm.nama=a.nama||"",this.editForm.npm=a.npm||"",this.editForm.jabatan=a.jabatan||"",this.editForm.username=a.username||"",this.editForm.password=""}}catch(e){console.error("Gagal memuat data user dari localStorage",e)}},logout(){localStorage.removeItem("token"),localStorage.removeItem("isLoggedIn"),localStorage.removeItem("user"),this.$router.push("/"),window.location.reload()}},computed:{user(){return JSON.parse(localStorage.getItem("user"))||{}}},mounted(){JSON.parse(localStorage.getItem("user"));this.loadUserDataFromLocalStorage()}};var k=t(2807),h=t(2008),f=t(2156),F=t(3316),w=t(4189),v=t(3676),_=t(1693),q=t(2669),A=t(5205),x=t(8416),y=t(6914),L=t(492),V=t(3954),Q=t(6056),S=t(8958),I=t(3999),P=t(124),C=t(5173),D=t(2665),U=t(3952),N=t(2980),O=t(327),$=t(386),W=t(9041),j=t(1746),J=t(9270),T=t(7716),E=t(7092),M=t(9200),R=t(8672),z=t(9626),K=t(8582),H=t.n(K);const X=(0,k.A)(p,[["render",c]]),B=X;H()(p,"components",{QLayout:h.A,QDialog:f.A,QCard:F.A,QCardSection:w.A,QSpace:v.A,QBtn:_.A,QCardActions:q.A,QPageContainer:A.A,QHeader:x.A,QToolbar:y.A,QIcon:L.A,QBadge:V.A,QDrawer:Q.A,QScrollArea:S.A,QList:I.A,QItem:P.A,QItemSection:C.A,QImg:D.A,QAvatar:U.A,QTabs:N.A,QTab:O.A,QSeparator:$.A,QTabPanels:W.A,QTabPanel:j.A,QInput:J.A,QPage:T.A,QFooter:E.A,QForm:M.A}),H()(p,"directives",{ClosePopup:R.A,Ripple:z.A})}}]);