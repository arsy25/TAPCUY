"use strict";(globalThis["webpackChunkdo_it"]=globalThis["webpackChunkdo_it"]||[]).push([[883],{7883:(e,t,a)=>{a.r(t),a.d(t,{default:()=>A});var s=a(1758);const d={key:0},l={class:""},i={class:"q-pl-sm"},o={class:"text"},r={class:"items-start row"},m={class:"items-start q-pa-sm"},n={key:1},c={class:""},u={class:"q-mt-md"};function p(e,t,a,p,b,h){const k=(0,s.g2)("q-card"),v=(0,s.g2)("q-badge"),g=(0,s.g2)("q-icon"),q=(0,s.g2)("q-input"),f=(0,s.g2)("q-separator"),_=(0,s.g2)("q-btn"),x=(0,s.g2)("q-form"),y=(0,s.g2)("q-page");return(0,s.uX)(),(0,s.CE)(s.FK,null,[t[10]||(t[10]=(0,s.Lk)("link",{rel:"stylesheet",href:"https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css"},null,-1)),e.$q.platform.is.desktop?((0,s.uX)(),(0,s.CE)("div",d,[(0,s.bF)(y,{class:"q-pa-md bg-white"},{default:(0,s.k6)((()=>[(0,s.Lk)("div",null,[(0,s.bF)(k,{class:"q-pa-md no-shadow q-mb-md cardd",bordered:""},{default:(0,s.k6)((()=>t[6]||(t[6]=[(0,s.Lk)("p",{class:"text-weight-bold texttitle text text-h6 text-black"}," Add Device ",-1),(0,s.Lk)("p",{class:"text-weight-bold text-caption text-grey-5 text"}," Register a new device to the system with ease. ",-1)]))),_:1}),(0,s.Lk)("div",null,[(0,s.bF)(k,{class:"q-pa-md no-shadow q-mb-md cardd",bordered:""},{default:(0,s.k6)((()=>[(0,s.Lk)("div",l,[(0,s.bF)(x,{onReset:t[2]||(t[2]=t=>e.resetField()),onSubmit:t[3]||(t[3]=e=>h.onSubmit()),class:"q-gutter-md q-mt-sm"},{default:(0,s.k6)((()=>[(0,s.Lk)("div",i,[(0,s.bF)(v,{class:"text-caption text-grey-5 q-ma-none"},{default:(0,s.k6)((()=>t[7]||(t[7]=[(0,s.eW)(" Device Information ")]))),_:1})]),(0,s.Lk)("div",o,[(0,s.Lk)("div",r,[(0,s.bF)(q,{standout:"text-primary",modelValue:b.form.nama_device,"onUpdate:modelValue":t[0]||(t[0]=e=>b.form.nama_device=e),class:"col-6 q-pa-sm",label:"Nama perangkat",dense:"","lazy-rules":"",rules:e.defaultRules},{prepend:(0,s.k6)((()=>[(0,s.bF)(g,{name:"mail",class:"q-pr-md"})])),_:1},8,["modelValue","rules"]),(0,s.bF)(q,{standout:"text-primary",modelValue:b.form.uid_device,"onUpdate:modelValue":t[1]||(t[1]=e=>b.form.uid_device=e),class:"col-6 q-pa-sm",label:"Uid Perangkat",dense:"","lazy-rules":"",rules:e.defaultRules},{prepend:(0,s.k6)((()=>[(0,s.bF)(g,{name:"mail",class:"q-pr-md"})])),_:1},8,["modelValue","rules"])])]),(0,s.bF)(f,{class:"q-my-md",color:"grey-3"}),(0,s.Lk)("div",m,[(0,s.bF)(_,{type:"submit",dense:"",flat:"",class:"text text-capitalize q-px-lg bg-primary text-white"},{default:(0,s.k6)((()=>t[8]||(t[8]=[(0,s.eW)("Add Data")]))),_:1})])])),_:1})])])),_:1})])])])),_:1})])):((0,s.uX)(),(0,s.CE)("div",n,[(0,s.bF)(y,{class:"q-pa-md bg-white"},{default:(0,s.k6)((()=>[(0,s.Lk)("div",null,[(0,s.bF)(k,{class:"q-pa-md no-shadow q-mb-md cardd",bordered:""},{default:(0,s.k6)((()=>t[9]||(t[9]=[(0,s.Lk)("p",{class:"text-weight-bold texttitle text text-h6 text-black"}," Add Device ",-1),(0,s.Lk)("p",{class:"text-weight-bold text-caption text-grey-5 text"}," Register a new device to the system with ease. ",-1)]))),_:1}),(0,s.Lk)("div",null,[(0,s.bF)(k,{class:"q-pa-md no-shadow q-mb-md cardd",bordered:""},{default:(0,s.k6)((()=>[(0,s.Lk)("div",c,[(0,s.bF)(x,{onSubmit:h.onSubmit,ref:"form",class:"q-gutter-md q-mt-sm"},{default:(0,s.k6)((()=>[(0,s.bF)(q,{modelValue:b.form.nama_device,"onUpdate:modelValue":t[4]||(t[4]=e=>b.form.nama_device=e),label:"Device Name",dense:"",rules:[e=>!!e||"Device name is required"],required:""},{prepend:(0,s.k6)((()=>[(0,s.bF)(g,{name:"devices"})])),_:1},8,["modelValue","rules"]),(0,s.bF)(q,{modelValue:b.form.uid_device,"onUpdate:modelValue":t[5]||(t[5]=e=>b.form.uid_device=e),label:"UID Device",dense:"",rules:[e=>!!e||"UID device is required"],required:""},{prepend:(0,s.k6)((()=>[(0,s.bF)(g,{name:"qr_code"})])),_:1},8,["modelValue","rules"]),(0,s.Lk)("div",u,[(0,s.bF)(_,{type:"submit",label:"Add Device",color:"primary"})])])),_:1},8,["onSubmit"])])])),_:1})])])])),_:1})]))],64)}a(310),a(6724);const b={data(){return{form:{nama_device:"",uid_device:""}}},methods:{onSubmit(){this.$api.post("/device",this.form).then((()=>{this.$q.notify({type:"positive",message:"Device berhasil ditambahkan"}),this.form.nama_device="",this.form.uid_device=""})).catch((()=>{this.$q.notify({type:"negative",message:"Gagal menambahkan device"}),console.log(res.data)}))},fetchUsers(){this.$api.get("users",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}}).then((e=>{const t=e.data;this.users=t.map((e=>({label:`${e.name} (ID: ${e.id_user})`,value:e.id_user}))),console.log("Formatted users:",this.users)})).catch((e=>{console.error("Gagal ambil user:",e)}))}},watch:{"form.type"(e){"controlling"===e?this.form.mqtt_topic_sub="":"monitoring"===e&&(this.form.mqtt_topic_pub="")}}};var h=a(2807),k=a(7716),v=a(3316),g=a(9200),q=a(3954),f=a(9270),_=a(492),x=a(386),y=a(1693),F=a(8582),w=a.n(F);const L=(0,h.A)(b,[["render",p]]),A=L;w()(b,"components",{QPage:k.A,QCard:v.A,QForm:g.A,QBadge:q.A,QInput:f.A,QIcon:_.A,QSeparator:x.A,QBtn:y.A})}}]);